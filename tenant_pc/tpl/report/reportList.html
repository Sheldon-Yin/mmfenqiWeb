<div class="bg-light lter b-b wrapper-md">
    <h1 class="m-n font-thin h3">报备列表</h1>
</div>

<div ng-controller="ReportListCtrl">
    <div class="wrapper-md bg-light b-b">
        <div class="panel panel-default">
            <div class="panel-body b-b b-light">
                <div class="col-xs-12 col-md-6 col-lg-4" style="padding: 10px">
                    搜索用户名: <input type="text" class="form-control input-sm w-sm inline m-r" ng-model="username"/>
                </div>
                <div class="col-xs-12 col-md-6 col-lg-4" style="padding: 10px">
                    搜索用户手机号: <input type="text" class="form-control input-sm w-sm inline m-r" ng-model="telephone"/>
                </div>
                <div class="col-xs-12 col-md-6 col-lg-4" style="padding: 10px">
                    重单状态:
                    <select type="text" class="form-control input-sm w-sm inline m-r" ng-model="receiptAudit">
                        <option value="">全部</option>
                        <option value="0">未登记</option>
                        <option value="1">重单</option>
                        <option value="2">为重单</option>
                    </select>
                </div>
                <div class="col-xs-12 col-md-6 col-lg-4" style="padding: 10px">
                    消费状态:
                    <select type="text" class="form-control input-sm w-sm inline m-r" ng-model="receiptAudit">
                        <option value="">全部</option>
                        <option value="0">已消费</option>
                        <option value="1">未消费</option>
                    </select>
                </div>
                <div class="col-xs-12 col-md-6 col-lg-4" style="padding: 10px">
                    选择开始日期:
                    <input type="date" ng-model="start_time" ng-change="updateDate()"
                           class="form-control w-sm inline m-r"/>
                </div>

                <div class="col-xs-12 col-md-6 col-lg-4" style="padding: 10px">
                    选择结束时间
                    <input type="date" ng-model="end_time" ng-change="updateDate()"
                           class="form-control w-sm inline m-r"/>
                </div>

                <div class="col-xs-12 text-right" ng-click="initBillList()">
                    <div class="btn btn-info">
                        查询
                    </div>
                </div>


            </div>
        </div>

        <div>
            <pagination previous-text="上一页" first-text="第一页" ng-change="pageChanged()" next-text="下一页" last-text="最后一页"
                        total-items="bigTotalItems" ng-model="currentPage" max-size="maxSize"
                        class="pagination-sm m-t-none m-b" boundary-links="true" rotate="false"
                        num-pages="numPages"></pagination>
        </div>

        <div>
            <table class="table m-b-none">
                <thead>
                <tr>
                    <th data-toggle="true">
                        姓名
                    </th>
                    <th data-hide="phone,tablet">
                        手机号
                    </th>
                    <th data-hide="phone,tablet">
                        项目名称
                    </th>
                    <th data-hide="phone,tablet">
                        报单时间
                    </th>
                    <th data-hide="phone,tablet">
                        重单状态
                    </th>
                    <th data-hide="phone,tablet">
                        消费状态
                    </th>
                    <th>
                        操作
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="x in data">
                    <td>{{x.name}}</td>
                    <td><a href>{{x.telphone}}</a></td>
                    <td>{{x.goodsName}}</td>
                    <td>{{x.orderPrice}}</td>
                    <td>{{x.totalTimes}}</td>
                    <td>{{x.realAmount}}</td>
                    <td>
                        <div class="row">
                            <button class="btn btn-info" ng-click="goToBillDetail(x)"
                                    ng-if="x.projectReviewStatus == 2 && x.receiptAudit==0">未重单
                            </button>
                            <button class="btn" ng-click="goToBillDetail(x)"
                                    ng-if="x.projectReviewStatus != 2 || (x.receiptAudit !=0 && x.receiptAudit != 3)">
                                重单
                            </button>
                            <button class="btn btn-danger" ng-click="goToBillDetail(x)"
                                    ng-if="x.projectReviewStatus == 2 && x.receiptAudit==3">
                                查看详情
                            </button>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div>
            <pagination previous-text="上一页" first-text="第一页" next-text="下一页" last-text="最后一页"
                        total-items="bigTotalItems" ng-model="currentPage" ng-change="pageChanged()"
                        max-size="maxSize" class="pagination-sm m-t-none m-b" boundary-links="true" rotate="false"
                        num-pages="numPages"></pagination>
        </div>
    </div>
</div>


