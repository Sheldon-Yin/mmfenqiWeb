"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),R_Commerce_add=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return e.state={ProvinceList:[],provinceId:"",cityId:"",id:"",name:"",phone:"",patt_phone:!1,hos:"",addr:"",msg:"",name_error:"",phone_error:"",hos_error:"",province_error:"",city_error:"",id_error:"",addr_error:"",msg_error:"",cityList:[],regionList:[]},e}return _inherits(t,e),_createClass(t,[{key:"query_Allprovince",value:function(){var e=this;HttpService.query({url:"/pc/computer/query_Allprovince",success:function(t){e.setState({ProvinceList:t.provinceVOList})}})}},{key:"changeProvince",value:function(e){var t=this;this.setState({provinceId:e.target.value}),HttpService.query({url:"/pc/computer/queryCity_ByProId",data:{proId:e.target.value},success:function(e){t.setState({cityList:e.cityList})}})}},{key:"changeCity",value:function(e){var t=this;this.setState({cityId:e.target.value}),HttpService.query({url:"/pc/computer/queryRegion_ByCityId",data:{cityId:e.target.value},success:function(e){t.setState({regionList:e.regionList})}})}},{key:"changeRegion",value:function(e){this.setState({id:e.target.value})}},{key:"nameChange",value:function(e){this.setState({name:e.target.value})}},{key:"phoneChange",value:function(e){this.setState({phone:e.target.value})}},{key:"hosChange",value:function(e){this.setState({hos:e.target.value})}},{key:"msgChange",value:function(e){this.setState({msg:e.target.value})}},{key:"addrChange",value:function(e){this.setState({addr:e.target.value})}},{key:"submit_",value:function(e,t,r,a,n,i,s,c){var o=this.props.phone_regex;if(console.log(o),e?this.setState({name_error:""}):this.setState({name_error:"请填写联系人"}),t){if(!o.test(t))return void this.setState({phone_error:"手机号格式错误"});this.setState({phone_error:""})}else this.setState({phone_error:"请填写手机号"});r?this.setState({hos_error:""}):this.setState({hos_error:"请填写医院名称"}),n?this.setState({province_error:""}):this.setState({province_error:"请选择省市"}),i?this.setState({city_error:""}):this.setState({city_error:"请选择城市"}),s?this.setState({id_error:""}):this.setState({id_error:"请选择区域"}),a?this.setState({addr_error:""}):this.setState({addr_error:"请填写医院具体地址"}),c?this.setState({msg_error:""}):this.setState({msg_error:"请填写医院简介"}),e&&t&&r&&n&&i&&s&&a&&c&&HttpService.save({url:"/pc/computer/addTenantCollaborationApplicationRecord",data:{contacts:t,telephone:t,hospitalName:r,provinceId:n,cityId:i,regionId:s,address:a,message:c},success:function(e){alert("提交成功"),window.location.href="business.html"}})}},{key:"componentWillMount",value:function(){this.query_Allprovince()}},{key:"render",value:function(){var e=this.state.name,t=this.state.phone,r=this.state.hos,a=this.state.addr,n=this.state.id,i=this.state.provinceId,s=this.state.cityId,c=this.state.msg;return React.createElement("div",{className:"wrap-business"},React.createElement("div",{className:"business-wrap-top"}),React.createElement("div",{className:"business-wrap-content"},React.createElement("div",{className:"title"},React.createElement("h3",null,"商家入驻")),React.createElement("div",{className:"content"},React.createElement("div",null,React.createElement("div",null,this.state.name_error),React.createElement("label",{htmlFor:"one"},"联系人："),React.createElement("input",{type:"text",id:"one",onBlur:this.nameChange.bind(this),placeholder:"联系人姓名"})),React.createElement("div",null,React.createElement("div",null,this.state.phone_error),React.createElement("label",{htmlFor:"two"},"手机号："),React.createElement("input",{type:"text",id:"two",onBlur:this.phoneChange.bind(this),placeholder:"填写您的手机号"}),React.createElement("div",{style:{color:"#33a5ff",display:"inline-block",paddingLeft:10}},"*此电话将作为美眉分期工作人员联系您的电话")),React.createElement("div",null,React.createElement("div",null,this.state.hos_error),React.createElement("label",{htmlFor:"three"},"医院名称："),React.createElement("input",{type:"text",id:"three",onBlur:this.hosChange.bind(this),placeholder:"医院"})),React.createElement("div",null,React.createElement("div",null,this.state.province_error),React.createElement("label",{htmlFor:"four"},"省份："),React.createElement("select",{name:"province",id:"province",onChange:this.changeProvince.bind(this)},React.createElement("option",{value:"",style:{fontSize:12}},"请选择"),this.state.ProvinceList.map(function(e,t){return React.createElement("option",{value:e.proid,key:t},e.proname)}))),React.createElement("div",null,React.createElement("div",null,this.state.city_error),React.createElement("label",{htmlFor:"five"},"城市："),React.createElement("select",{name:"city",id:"city",onChange:this.changeCity.bind(this)},React.createElement("option",{value:"",style:{fontSize:12}},"请选择"),this.state.cityList.map(function(e,t){return React.createElement("option",{value:e.cityid,key:t},e.cityname)}))),React.createElement("div",null,React.createElement("div",null,this.state.id_error),React.createElement("label",{htmlFor:"six"},"区域："),React.createElement("select",{name:"region",id:"region",onChange:this.changeRegion.bind(this)},React.createElement("option",{value:"",style:{fontSize:12}},"请选择"),this.state.regionList.map(function(e,t){return React.createElement("option",{value:e.id,key:t},e.regionName)}))),React.createElement("div",null,React.createElement("div",null,this.state.addr_error),React.createElement("label",{htmlFor:"seven"},"医院具体地址："),React.createElement("input",{type:"text",id:"seven",style:{width:237},onBlur:this.addrChange.bind(this),placeholder:"医院地址"})),React.createElement("div",null,React.createElement("div",null,this.state.msg_error),React.createElement("label",{htmlFor:"eight",style:{float:"left"}},"医院简介："),React.createElement("textarea",{placeholder:"字符不超过100个字",name:"textarea",id:"textarea",cols:"45",rows:"5",onBlur:this.msgChange.bind(this)}),React.createElement("div",{style:{paddingLeft:100,color:"#33a5ff"}},"*资料审核通过，美眉分期工作人员将会尽快联系您，请保持电话畅通。")),React.createElement("div",null,React.createElement("div",{className:"btn submit-btn",style:{marginLeft:100,marginTop:20},onClick:this.submit_.bind(this,e,t,r,a,i,s,n,c)},"提交")))))}}]),t}(React.Component);