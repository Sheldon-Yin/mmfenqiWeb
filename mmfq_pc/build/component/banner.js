"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),R_Banner=function(e){function n(e){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e));return t.state={category:[],banner:[]},t}return _inherits(n,e),_createClass(n,[{key:"getCategory",value:function(){var e=this;$.ajax({type:"post",url:"/pc/computer/query_category_pc",dataType:"json",success:function(n){0==n.result&&e.setState({category:n.data.categoryList})}})}},{key:"getBanner",value:function(){var e=this;$.ajax({type:"post",url:"/pc/computer/query_pictures_linking",dataType:"json",data:{advertisingType:"PC"},success:function(n){0==n.result&&(e.setState({banner:n.data.advertisingLinkList}),e.bannerFlag=!0)}})}},{key:"componentWillMount",value:function(){this.bannerFlag=!1,this.bannerRenderAlready=!1,this.getCategory(),this.getBanner()}},{key:"componentDidUpdate",value:function(){function e(){var e=$(".bannerImg .current").index();$(".bannerImg li img").removeClass("now"),e<$(".bannerImg li").length-1?e++:e=0,$(".bannerImg li").eq(e).addClass("current").siblings("li").removeClass("current"),$(".bannerImg li").eq(e).fadeIn(200,function(){$(this).find("img").fadeIn(100).toggleClass("now")}),$(".bannerImg li").eq(e).siblings("li").fadeOut(700),$(".tabIcon span").eq(e).addClass("now").siblings().removeClass("now")}setTimeout(function(){$(".bannerImg li:eq(0) img").addClass("now")},100);var n,t=3e3;if(this.bannerFlag&&1!=this.bannerRenderAlready){this.bannerRenderAlready=!0,$(".tabIcon").mouseover(function(){clearInterval(n)}),$(".tabIcon span").mouseover(function(){$(".banner li img").removeClass("now");var e=$(this).index();$(this).addClass("now").siblings().removeClass("now"),$(".bannerImg li").eq(e).addClass("current").siblings("li").removeClass("current"),$(".bannerImg li").eq(e).fadeIn(200,function(){$(this).find("img").fadeIn(100).toggleClass("now")}),$(".bannerImg li").eq(e).siblings("li").fadeOut(700)}),$(".bannerImg li img").mouseover(function(){$(".prev,.next").fadeIn()}),$(".banner").mouseleave(function(){$(".prev,.next").hide()}),$(".prev").click(function(){$(".banner li img").removeClass("now");var e=$(".bannerImg .current").index();e<$(".bannerImg li").length&&e>0?e--:e=$(".bannerImg li").length-1,$(".tabIcon span").eq(e).addClass("now").siblings().removeClass("now"),$(".bannerImg li").eq(e).addClass("current").siblings("li").removeClass("current"),$(".bannerImg li").eq(e).fadeIn(200,function(){$(this).find("img").fadeIn(100).toggleClass("now")}),$(".bannerImg li").eq(e).siblings("li").fadeOut(700)}),$(".next").click(function(){$(".banner li img").removeClass("now");var e=$(".bannerImg .current").index();e<$(".bannerImg li").length-1?e++:e=0,$(".tabIcon span").eq(e).addClass("now").siblings().removeClass("now"),$(".bannerImg li").eq(e).addClass("current").siblings("li").removeClass("current"),$(".bannerImg li").eq(e).fadeIn(200,function(){$(this).find("img").fadeIn(100).toggleClass("now")}),$(".bannerImg li").eq(e).siblings("li").fadeOut(700)}),$(".bannerImg").hover(function(){clearInterval(n)},function(){clearInterval(n),n=setInterval(e,t)}).trigger("mouseleave");var a=setTimeout(function(){var e=$(".serveTab .now").index();e<1?e++:e=0,$(".serveTab span").eq(e).addClass("now").siblings().removeClass("now"),$(".serveCont ul").eq(e).show().siblings().hide(),a=setTimeout(function(){var e=$(".serveTab .now").index();e<1?e++:e=0,$(".serveTab span").eq(e).addClass("now").siblings().removeClass("now"),$(".serveCont ul").eq(e).show().siblings().hide()},t)},t);$(".serveTab span").click(function(){clearTimeout(a);var e=$(this).index();$(this).addClass("now").siblings().removeClass("now"),$(".serveCont ul").eq(e).show().siblings().hide()})}$(".btnItem1 li").mouseover(function(){if(!$(this).is(".current")){var e=$(this).index();$(".btnItem2").hide().css({left:-15}),$(this).addClass("current").siblings().removeClass("current"),$(".btnItem2").fadeIn(300).animate({left:0},{duaration:350,queue:!1}),$(".btnItem2 li").eq(e).show().siblings().hide(),$(".fastZT2").show(),$(".fastZT2 li").eq(e).show().siblings().hide()}}),$(".banner").mouseleave(function(){$(".btnItem1 li").removeClass("current"),$(".btnItem2,.btnItem2 li").hide(),$(".fastZT2,.fastZT2 li").hide(),$(".btnItem2").css({left:-15})}),$(".tabList span").mouseover(function(){var e=$(this).index();$(this).addClass("now").siblings().removeClass("now"),$(".tabShowCont ul").eq(e).show().siblings().hide()})}},{key:"render",value:function(){var e=this.state.category.map(function(e,n){return React.createElement("li",{key:n,className:"jingxuan"},React.createElement("div",{style:{width:35,height:35,marginLeft:25,marginRight:15,float:"left",display:"flex"}},React.createElement("img",{src:e.categoryPicPC,style:{margin:"auto"}})),React.createElement("span",null,e.categoryName))}),n=this.state.category.map(function(e,n){var t=e.categoryList.map(function(e,n){return React.createElement("a",{key:n,href:"goods-list.html?categoryId="+e.categoryId+"&categoryName="+e.categoryName,target:"_blank"},e.categoryName)});return React.createElement("li",{key:n,className:"jingxuan clearfix",style:{display:"none"}},t)});console.log(this.state.banner);var t=this.state.banner.map(function(e,n){return React.createElement("li",{style:{display:"block",background:e.backgroundColor},key:n,className:0==n?"current":""},React.createElement("a",{href:e.linkHerf,target:"_blank"},React.createElement("img",{alt:"",src:e.linkHerPic,style:{display:"block"}})))}),a=this.state.banner.map(function(e,n){return React.createElement("span",{className:0==n?"now":"",key:n})});return React.createElement("div",{className:"banner"},React.createElement("ul",{className:"bannerImg inner"},t),React.createElement("div",{className:"tabIcon"},a),React.createElement("span",{className:"prev",style:{display:"none"}}),React.createElement("span",{className:"next",style:{display:"none"}}),React.createElement("div",{className:"btnList-all"},React.createElement("div",{className:"pull_down left",style:{marginTop:-1}},React.createElement("span",{className:"all_kinds"},"全部分类")),React.createElement("div",{className:"btnCont"},React.createElement("ul",{className:"btnItem1"},e)),React.createElement("div",{className:"infoShowCont"},React.createElement("ul",{className:"btnItem2",style:{left:"0px",display:"block"}},n))))}}]),n}(React.Component);