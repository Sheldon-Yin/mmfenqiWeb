"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),R_aa=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return e.state={pwd:"",pwd_error:"",pwd_img:"",rePwd:"",rePwd_error:"",rePwd_img:"",newPwd:"",newPwd_error:"",newPwd_img:""},e.style={width:130,textAlign:"right",display:"inline-block",height:35,margin:"2px 0",paddingRight:5},e.inputStyle={height:"40px",outline:"none",border:"1px solid #E8E8E8",paddingLeft:"5px"},e}return _inherits(t,e),_createClass(t,[{key:"pwdChange",value:function(e){var t=e.target.value;this.setState({pwd:t})}},{key:"newChangePwd",value:function(e){var t=e.target.value;this.setState({newPwd:t})}},{key:"check_pwd",value:function(e){var t=this.props.pwd_regex;return console.log("匹配结果："+t.test(e)),""==e?(this.setState({newPwd_error:"密码不能为空，请重新输入",newPwd_img:React.createElement("img",{src:"../static/images/register/r_er.png",style:{verticalAlign:"middle"},alt:""}),newPwd:""}),!1):t.test(e)?(this.setState({newPwd_error:"",newPwd_img:React.createElement("img",{src:"../static/images/register/r_su.png",style:{verticalAlign:"middle"},alt:""}),newPwd:e}),!0):(this.setState({newPwd_error:"密码格式错误，请重新输入",newPwd_img:React.createElement("img",{src:"../static/images/register/r_er.png",style:{verticalAlign:"middle"},alt:""}),newPwd:e}),!1)}},{key:"newBlurPwd",value:function(e){var t=e.target.value;this.check_pwd(t)}},{key:"sureChangePwd",value:function(e){var t=e.target.value;this.props.pwd_regex;this.setState({rePwd:t})}},{key:"sureBlurPwd",value:function(e){e.target.value,this.props.pwd_regex;this.compare(this.state.newPwd,this.state.rePwd)}},{key:"compare",value:function(e,t){return t?e===t?(this.setState({rePwd_error:"",rePwd_img:React.createElement("img",{src:"../static/images/register/r_su.png",style:{verticalAlign:"middle"},alt:""}),rePwd:t}),!0):(this.setState({rePwd_error:"两次密码不相同，请重新输入",rePwd_img:React.createElement("img",{src:"../static/images/register/r_er.png",style:{verticalAlign:"middle"},alt:""}),rePwd:t}),!1):void 0}},{key:"submit",value:function(e,t,r){this.check_pwd(t)&&this.compare(t,r)&&HttpService.save({url:"/pc/computer/change_pwd",data:{oldPassword:CommonService.MD5(e),newPassword:CommonService.MD5(t)},success:function(e){window.location.href="index.html"}})}},{key:"render",value:function(){var e=this.state.pwd,t=this.state.newPwd,r=this.state.rePwd;return React.createElement("div",{style:{float:"left"}},React.createElement("div",{className:"wrap-content"},React.createElement("div",{className:"wrap-content-right"},React.createElement("div",null,React.createElement("div",{className:"top"},"修改密码"),React.createElement("div",{className:"top-content",style:{margin:"10px 0"}},React.createElement("div",null,React.createElement("label",{htmlFor:"old",style:this.style},"旧密码"),React.createElement("input",{style:this.inputStyle,placeholder:"请输入旧密码",onChange:this.pwdChange.bind(this),type:"password",id:"old"})),React.createElement("div",null,React.createElement("label",{htmlFor:"new",style:this.style},"新密码"),React.createElement("input",{type:"password",placeholder:"请输入新密码",style:this.inputStyle,id:"new",onChange:this.newChangePwd.bind(this),onBlur:this.newBlurPwd.bind(this)}),React.createElement("div",{style:{marginLeft:"10px",display:"inline"}},this.state.newPwd_img," ",React.createElement("span",{style:{verticalAlign:"middle"}},this.state.newPwd_error))),React.createElement("div",null,React.createElement("label",{htmlFor:"sure",style:this.style},"再次输入密码"),React.createElement("input",{style:this.inputStyle,placeholder:"请再次输入密码",type:"password",id:"sure",onChange:this.sureChangePwd.bind(this),onBlur:this.sureBlurPwd.bind(this)}),React.createElement("div",{style:{marginLeft:"10px",display:"inline"}},this.state.rePwd_img," ",React.createElement("span",{style:{verticalAlign:"middle"}},this.state.rePwd_error))),React.createElement("div",null,React.createElement("div",{style:this.style}),React.createElement("div",{className:"_btn btn_btn",style:{verticalAlign:"bottom",width:77,padding:"7px 0"},onClick:this.submit.bind(this,e,t,r)},"确定修改")))))))}}]),t}(React.Component),R_Old_pwd=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("div",null,React.createElement("label",{htmlFor:"old",style:this.props.cx.style},"旧密码"),React.createElement("input",{type:"password",id:"old"}))}}]),t}(React.Component),R_new_pwd=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("div",null,React.createElement("label",{htmlFor:"new",style:this.props.cx.style},"新密码"),React.createElement("input",{type:"password",id:"new",onChange:this.props.cx.newChangePwd,onBlur:this.props.cx.newBlurPwd.bind(this)}),React.createElement("div",{style:{marginLeft:"10px",display:"inline"}},this.props.cx.newPwd," ",React.createElement("span",{style:{verticalAlign:"middle"}},this.props.cx.newPwd_error)))}}]),t}(React.Component),R_sure_pwd=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("div",null,React.createElement("label",{htmlFor:"sure",style:this.props.cx.style},"再次输入密码"),React.createElement("input",{type:"password",id:"sure"}))}}]),t}(React.Component);