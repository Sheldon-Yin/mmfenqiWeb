"use strict";var Pagination=React.createClass({displayName:"Pagination",getInitialState:function(){return{currentPage:0}},getDefaultProps:function(){return{maxNumberOfDisplayPages:10,numberOfPages:20,onPage:function(t){console.log(t)}.bind(this)}},firstPage:-1,lastPage:-1,onPage:function(t){return function(){t>=0&&t<this.props.numberOfPages&&(this.props.changeIndex(t+1),this.setState({currentPage:t}))}.bind(this)},goto:function(){var t=parseInt(this.refs.pageInput.value-1);this.onPage(t)()},render:function(){(this.firstPage==-1||this.lastPage==-1||Math.abs(this.state.currentPage-this.firstPage)<1||Math.abs(this.state.currentPage-this.lastPage)<1||this.state.currentPage<this.firstPage||this.state.currentPage>this.lastPage)&&(this.firstPage=this.state.currentPage-parseInt(this.props.maxNumberOfDisplayPages/2),this.firstPage<0&&(this.firstPage=0),this.lastPage=this.firstPage+this.props.maxNumberOfDisplayPages,this.lastPage>this.props.numberOfPages-1&&(this.lastPage=this.props.numberOfPages-1),this.lastPage-this.firstPage+1<this.props.maxNumberOfDisplayPages&&(this.firstPage=this.lastPage-this.props.maxNumberOfDisplayPages+1,this.firstPage<0&&(this.firstPage=0)));var t=[];t.push({text:"首页",page:0}),t.push({text:"上一页",page:this.state.currentPage-1});for(var e=this.firstPage;e<=this.lastPage;e++){var a=e+1;e==this.firstPage&&this.firstPage>0&&(a="..."),e==this.lastPage&&this.lastPage<this.props.numberOfPages-1&&(a="..."),t.push({text:a,page:e})}t.push({text:"下一页",page:this.state.currentPage+1}),t.push({text:"最后一页",page:this.props.numberOfPages-1});var s=t.map(function(t,e){var a={marginRight:"4px",textAlign:"center",minWidth:"30px",cursor:"pointer",display:"inline-block",border:"1px solid #f3f3f3",backgroundColor:"rgb(248,249,250)",padding:"4px"};return t.page==this.state.currentPage&&parseInt(t.text)==t.page+1&&(a={backgroundColor:"rgb(233,113,125)",marginRight:"4px",textAlign:"center",minWidth:"30px",cursor:"pointer",display:"inline-block",color:"white",border:"1px solid #f3f3f3",padding:"4px"}),React.createElement("span",{onClick:this.onPage(t.page),key:t+" "+e,style:a},t.text)}.bind(this));return React.createElement("div",{style:{display:0==this.props.numberOfPages?"none":"block"}},s,React.createElement("span",null,"  共",this.props.numberOfPages,"页"),React.createElement("span",null,"  转到  "),React.createElement("input",{ref:"pageInput",type:"text",style:{cursor:"pointer",textAlign:"center",backgroundColor:"rgb(248,249,250)",border:"1px solid #f3f3f3",width:"45px",padding:"4px"}}),React.createElement("span",null,"  页  "),React.createElement("input",{type:"button",onClick:this.goto,value:"确定",style:{backgroundColor:"rgb(233,113,125)",color:"white",border:"0px solid transparent",padding:"12px"}}))}});